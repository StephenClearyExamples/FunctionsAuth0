<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Auth0 for Azure Functions!</title>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdn.auth0.com/js/auth0/8.8/auth0.min.js"></script>
</head>

<body>
    <div>
    <button id="btn-call">Call API</button>
    <button id="btn-login">Login</button>
    </div>

    <div id="results">
    </div>

    <script>
        $('document').ready(function() {
            var AUTH0_DOMAIN = 'stephenclearytba.auth0.com'; // Copied from client settings on Auth0 dashboard.
            var AUTH0_CLIENT_ID = 'H21JFEgGqDy6cyrkD5WvnzfFnJ1iTgDr'; // Copied from client settings on Auth0 dashboard.
            var AUTH0_CALLBACK_URL = 'https://stephenclearyexamples.github.io/FunctionsAuth0/'; // Copied from GH Pages settings on GitHub.

            var webAuth = new auth0.WebAuth({
                domain: AUTH0_DOMAIN,
                clientID: AUTH0_CLIENT_ID,
                audience: 'https://' + AUTH0_DOMAIN + '/userinfo',
                redirectUri: AUTH0_CALLBACK_URL,
                responseType: 'token',
                scope: 'openid'
            });

            var loginBtn = $('#btn-login');

            loginBtn.click(function(e) {
                e.preventDefault();
                webAuth.authorize();
            });
        });
    </script>
</body>
</html>